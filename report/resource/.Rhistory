L=100000
K=135/64
x=runif(L)
ind=(runif(L)<(20*x*(1-x)^3/K))
hist(x[ind],probability=T,
xlab="x",ylab="Density",main="")
xx=seq(0,1,length=100)
lines(xx,20*xx*(1-xx)^3,lwd=2,col=2)
d=density(x[ind],from=0,to=1)
lines(d,col=4)
y=runif(L)
w=20*y*(1-y)^3
wTilde=y*(1-y)^3
W=wTilde/sum(wTilde)
d=density(y,weight=w,from=0,to=1)
lines(d,col=3)
L=100000
K=135/64
x=runif(L)
ind=(runif(L)<(20*x*(1-x)^3/K))
hist(x[ind],probability=T,
xlab="x",ylab="Density",main="")
xx=seq(0,1,length=100)
lines(xx,20*xx*(1-xx)^3,lwd=2,col=2)
d=density(x[ind],from=0,to=1)
lines(d,col=4)
y=runif(L)
w=20*y*(1-y)^3
wTilde=y*(1-y)^3
W=wTilde/sum(wTilde)
d=density(y,weight=W,from=0,to=1)
lines(d,col=3)
w2=20*d$x*(1-d$x)^3
sum(w2)
d=density(y,weight=W,from=0,to=1)
w2=d$x*(1-d$x)^3
w2=w2/sum(w2)
d2=density(y,from=0,to=1)*w2
lines(d2,col=3)
d=density(y,weight=W,from=0,to=1)
w2=d$x*(1-d$x)^3
w2=w2/sum(w2)
d2=density(y,from=0,to=1)*w2
d=density(y,weight=W,from=0,to=1)
w2=d$x*(1-d$x)^3
w2=w2/sum(w2)
d2=density(y,from=0,to=1)
d2$y=d2$y**w2
lines(d2,col=3)
d=density(y,weight=W,from=0,to=1)
w2=d$x*(1-d$x)^3
w2=w2/sum(w2)
d2=density(y,from=0,to=1)
d2$y=d2$y*w2
lines(d2,col=3)
L=100000
K=135/64
x=runif(L)
ind=(runif(L)<(20*x*(1-x)^3/K))
hist(x[ind],probability=T,
xlab="x",ylab="Density",main="")
xx=seq(0,1,length=100)
lines(xx,20*xx*(1-xx)^3,lwd=2,col=2)
d=density(x[ind],from=0,to=1)
lines(d,col=4)
y=runif(L)
w=20*y*(1-y)^3
wTilde=y*(1-y)^3
W=wTilde/sum(wTilde)
d=density(y,weight=W,from=0,to=1)
w2=d$x*(1-d$x)^3
w2=w2/sum(w2)
d2=density(y,from=0,to=1)
d2$y=d2$y*w2
lines(d2,col=3)
w2
d$y
d=density(y,weight=W,from=0,to=1)
w2=d$x*(1-d$x)^3
w2=w2/sum(w2)
d2=density(y,from=0,to=1)
d2$y=d2$y*w2*512
lines(d2,col=3)
L=100000
K=135/64
x=runif(L)
ind=(runif(L)<(20*x*(1-x)^3/K))
hist(x[ind],probability=T,
xlab="x",ylab="Density",main="")
xx=seq(0,1,length=100)
lines(xx,20*xx*(1-xx)^3,lwd=2,col=2)
d=density(x[ind],from=0,to=1)
lines(d,col=4)
y=runif(L)
w=20*y*(1-y)^3
wTilde=y*(1-y)^3
W=wTilde/sum(wTilde)
d=density(y,weight=W,from=0,to=1)
w2=d$x*(1-d$x)^3
w2=w2/sum(w2)
d2=density(y,from=0,to=1)
d2$y=d2$y*w2*512
lines(d2,col=3)
w2*512
install.packages("R2OpenBUGS")
install.packages("dplyr")
mylibs <- c('RODBC', 'TAM','dplyr','sirt','data.table','tictoc','ggplot2','cowplot')
sapply(mylibs, require, character.only=TRUE)
94937/52.14*9
94937/52.14*9/7/(9*5-1)
94937/52.14*9/7/(9*5-1+20/52.14*9)
94937/52.14*9/7/(9*5-1-20/52.14*9)
20/52.14*93
20/52.14*9
94937/52.14*9/7/(9*5-20/52.14*9)
94937/52.14*9/7/(9*5-1)
94937/52.14*9/7/(9*5-20/52.14*9-1)
94937/52.14*9/7/(9*5-20/52.14*9-1)
94937/52.14*9/7/(9*5-20/52.14*9-1)
94937/52.14*9/7/(9*5-20/52.14*9-1)
94937/52.14*9/(9*5-20/52.14*9-1)/7
94937/52.14*9
55.55*(7*9-1)
55.55*(5*9-1)*7
require(ggplot2)
require(ggplot)
require('ggplot2')
install.packages('ggplot2')
?dnorm
p9 <- ggplot(data.frame(x = c(-10, 10)), aes(x = x)) +
stat_function(fun = dnorm)+
stat_function(fun = dpois)
p9
p9 <- ggplot(data.frame(x = c(-10, 10)), aes(x = x)) +
stat_function(fun = dnorm)+
stat_function(fun = dpois)
require('ggplot2')
p9 <- ggplot(data.frame(x = c(-10, 10)), aes(x = x)) +
stat_function(fun = dnorm)+
stat_function(fun = dpois)
p9
?dnorm''
?dnorm
?dpois
?stat_function
?dnorm
?dpois
V_ij=seq(-10,10,length.out = 100)
p9 <- ggplot(data.frame(x = c(-10, 10)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=40))+
stat_function(fun = dpois, args = list(lambda = 40))
p9
p9 <- ggplot(data.frame(x = c(-1000, 1000)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=40))+
stat_function(fun = dpois, args = list(lambda = 40))
p9
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=40))+
stat_function(fun = dpois, args = list(lambda = 40))
p9
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=40),aes(colour = 1))+
stat_function(fun = dpois, args = list(lambda = 40),aes(colour = 2))
p9
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=40),aes(colour = 'black'))+
stat_function(fun = dpois, args = list(lambda = 40),aes(colour = 'blue'))
p9
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))+
stat_function(fun = dpois, args = list(lambda = 40),aes(colour = 'blue'))
p9
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))+
stat_function(fun = dpois-40, args = list(lambda = 40),aes(colour = 'blue'))
p9
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))+
stat_function(fun = dpois, args = list(lambda = 40),aes(colour = 'blue')-40)
p9
?dnorm
?dpois
dpois2=function(lambda){dpois(lambda)-lambda}
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))+
stat_function(fun = dpois2, args = list(lambda = 40),aes(colour = 'blue'))
p9
dpois2=function(lambda){dpois(x,lambda)-lambda}
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))+
stat_function(fun = dpois2, args = list(lambda = 40),aes(colour = 'blue'))
p9
?dpois
p9 <- ggplot(transform(data.frame(x=c(0:10)), y=dpois(x, 40)), aes(x, y)) +
geom_bar(stat="identity")
p9
p9 <- ggplot(transform(data.frame(x=c(0:10)), y=dpois(x, 40)-40), aes(x, y)) +
geom_bar(stat="identity")
p9
p9 <- ggplot(transform(data.frame(x=c(-100:100)), y=dpois(x, 40)-40), aes(x, y)) +
geom_bar(stat="identity")
p9
p9 <- ggplot(transform(data.frame(x=c(-100:100)), y=dpois(x, 40)), aes(x, y)) +
geom_bar(stat="identity")
p9
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))+
stat_function(fun = dpois2, args = list(lambda = 40),aes(colour = 'blue'))
p9
p9 <- ggplot(transform(data.frame(x=c(-100:100)), y=dpois2), aes(x, y)) +
geom_bar(stat="identity")
p9 <- ggplot(transform(data.frame(x=c(-100:100)), y=dpois), aes(x, y)) +
geom_bar(stat="identity")
p9 <- ggplot(transform(data.frame(x=c(-100:100)), y=dpois(x-40, 40)), aes(x, y)) +
geom_bar(stat="identity")
p9
p9 <- ggplot(transform(data.frame(x=c(-100:100)), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")
p9
p9 <- ggplot(transform(data.frame(x=c(-20:20)), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")+
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))
p9
p9 <- ggplot(transform(data.frame(x=c(-20:20)), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")+
data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))
p9 <- ggplot(transform(data.frame(x=c(-20:20)), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")+
data.frame(x = c(-100, 100)), aes(x = x) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))
p9 <- ggplot(transform(data.frame(x=c(-20:20)), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")+
data.frame(x = c(-100, 100)), aes(x = x) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))
p9
p9 <- ggplot(transform(data.frame(x=c(-20:20)), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")+
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))
p9
p9 <- ggplot(transform(data.frame(x=c(-20:20)), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")+
stat_function(data=data.frame(x=c(-20:20)),fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))
p9
p9 <- ggplot(transform(data.frame(x=c(-20:20)), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")+
stat_function(data=data.frame(x=c(-20:20)),fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))
p9
p9 <- ggplot(data.frame(x = c(-100, 100)), aes(x = x)) +
stat_function(fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))+
stat_function(fun = dpois, args = list(lambda = 40),aes(colour = 'blue'))
p9
df=cbind(rbind(x,x),rbind(y1,y2))
x=c(-20:20)
y1=dnorm(x,mean=0,sd=40)
y2=dnorm(x,sd=sqrt(40))
df=cbind(rbind(x,x),rbind(y1,y2))
df
x=t(c(-20:20))
y1=t(dnorm(x,mean=0,sd=40))
y2=t(dnorm(x,sd=sqrt(40)))
df=cbind(rbind(x,x),rbind(y1,y2))
rbind(x,x)
x=t(c(-20:20))
x
x=c(-20:20)
x
t(x)
t(t(x))
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=40)))
y2=t(t(dnorm(x,sd=sqrt(40))))
df=cbind(rbind(x,x),rbind(y1,y2))
p9 <- ggplot(transform(data.frame(), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")+
stat_function(data=data.frame(x=c(-20:20)),fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))
df
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=40)))
y2=t(t(dnorm(x,sd=sqrt(40))))
df=cbind(rbind(x,x),rbind(y1,y2))
df$Distribution='Gaussian'
df$Distribution[1:41]='Poisson'
df
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=40)))
y2=t(t(dnorm(x,sd=sqrt(40))))
df=cbind(rbind(x,x),rbind(y1,y2))
df[,3]='Gaussian'
df[1:41,3]='Poisson'
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=40)))
y2=t(t(dnorm(x,sd=sqrt(40))))
df=cbind(rbind(x,x),rbind(y1,y2))
df
df=cbind(df,'Gaussian')
df
df[1:41,3]='Poisson'
y1=t(t(dnorm(x,mean=0,sd=sqrt(40)))
y2=t(t(dpois(x,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=cbind(df,'Gaussian')
df[1:41,3]='Poisson'
p9 <- ggplot(transform(data.frame(), y=dpois(x+40, 40)), aes(x, y)) +
geom_bar(stat="identity")+
stat_function(data=data.frame(x=c(-20:20)),fun = dnorm, args = list(mean = 40,sd=sqrt(40)),aes(colour = 'black'))
p9
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=cbind(df,'Gaussian')
df[1:41,3]='Poisson'
df
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=cbind(df,factor('Gaussian'))
df[1:41,3]=factor('Poisson')
df
require(data.table)
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df
df[1:41,3]='Poisson'
df
df
names(df)
names(df)=c('V_ij','f(v_ij)','Distribution')
p <- ggplot(df, aes(x=V_ij, fill=Distribution)) +
geom_density(alpha=.3) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
p <- ggplot(df, aes(x=V_ij, color=Distribution)) +
geom_density(alpha=.3) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
df <- data.frame(x=1:10,group=c(rep("a",5),rep("b",5)))
df
p <- ggplot(df, aes(x=V_ij, y=f(v_ij),color=Distribution)) +
geom_density(alpha=.3) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
p <- ggplot(df, aes(x=V_ij, y='f(v_ij)',color=Distribution)) +
geom_density(alpha=.3) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[1:41,3]='Poisson'
names(df)=c('V_ij','f(v_ij)','Distribution')
p <- ggplot(df, aes(x=V_ij, y='f(v_ij)',color=Distribution)) +
geom_density(alpha=.3) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
p <- ggplot(df, aes(x=V_ij, y=Density,color=Distribution)) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[1:41,3]='Poisson'
names(df)=c('V_ij','Density','Distribution')
p <- ggplot(df, aes(x=V_ij, y=Density,color=Distribution)) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
p
p <- ggplot(df, aes(x=V_ij, y=Density,color=Distribution)) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[1:41,3]='Poisson'
names(df)=c('V_ij','Density','Distribution')
p <- ggplot(df, aes(x=V_ij, y='Density',color=Distribution)) +
geom_density(alpha=.3) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
p <- ggplot(df, aes(x=V_ij, y='Density',color=Distribution)) +
geom_line(alpha=.3)
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p <- ggplot(df, aes(x=V_ij, y='Density',color=Distribution)) +
geom_line(alpha=.3) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
p <- ggplot(df, aes(x=V_ij, y=Density,color=Distribution)) +
geom_line(alpha=.3) +
xlab("NEW RATING TITLE") +
ylab("NEW DENSITY TITLE")
p
y1
y2
y1
test_data
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[1:41,3]='Poisson'
names(df)=c('V_ij','Density','Distribution')
p <- ggplot(df, aes(x=V_ij, y=Density,color=Distribution)) +
geom_line()
p
df
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[42:82,3]='Poisson'
names(df)=c('V_ij','Density','Distribution')
p <- ggplot(df, aes(x=V_ij, y=Density,color=Distribution)) +
geom_line()
p
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x-40,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[42:82,3]='Poisson'
names(df)=c('V_ij','Density','Distribution')
p <- ggplot(df, aes(x=V_ij, y=Density,color=Distribution)) +
geom_line()
p
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x+40,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[42:82,3]='Poisson'
names(df)=c('V_ij','Density','Distribution')
p <- ggplot(df, aes(x=V_ij, y=Density,color=Distribution)) +
geom_line()
p
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x+40,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[42:82,3]='Poisson'
names(df)=c('Noise','Density','Distribution')
p <- ggplot(df, aes(x=Noise, y=Density,color=Distribution)) +
geom_line()
p
library(ggthemes)
install.packages('ggthemes')
require('ggplot2')
library(ggthemes)
theme_set(theme_tufte())  # from ggthemes
require(data.table)
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x+40,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[42:82,3]='Poisson'
names(df)=c('Noise','Density','Distributions')
ggplot(df, aes(x=Noise, y=Density,color=Distributions)) +
geom_line()
require('ggplot2')
library(ggthemes)
theme_set(theme_bw())  # from ggthemes
require(data.table)
x=t(t(c(-20:20)))
y1=t(t(dnorm(x,mean=0,sd=sqrt(40))))
y2=t(t(dpois(x+40,lambda = 40)))
df=cbind(rbind(x,x),rbind(y1,y2))
df=data.table(df)
df=cbind(df,'Gaussian')
df[42:82,3]='Poisson'
names(df)=c('Noise','Density','Distributions')
ggplot(df, aes(x=Noise, y=Density,color=Distributions)) +
geom_line()
ggsave('noise.pdf')
getwd()
ggsave('noise.pdf',width = 8cm)
?ggsave
ggsave('noise.pdf',width = 8, units = "cm")
setwd('C:\Users\Chen-New\Documents\GitHub\nmf\report\resource')
setwd('C:\\Users\\Chen-New\\Documents\\GitHub\\nmf\\report\\resource')
ggsave('noise.pdf',scale=.6)
